<!DOCTYPE html>
<html>
  <head>
    <title>Tunnel Blaster 3000</title>
    <style>
      body { margin: 0; overflow: hidden; background: black; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
  </head>
  <body>
    <script>
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
      const renderer = new THREE.WebGLRenderer();
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);

      const tunnel = new THREE.Group();
      scene.add(tunnel);

      const tunnelSegments = 50;
      const radius = 5;
      const gapWidth = Math.PI / 6;
      const speed = 0.3;

      for (let i = 0; i < tunnelSegments; i++) {
        const geometry = new THREE.RingGeometry(radius - 1, radius, 32, 1, 0, 2 * Math.PI - gapWidth);
        const material = new THREE.MeshBasicMaterial({ color: 0x00ffff, side: THREE.DoubleSide });
        const ring = new THREE.Mesh(geometry, material);
        ring.position.z = -i * 3;
        ring.rotation.x = Math.PI / 2;
        ring.rotation.z = Math.random() * Math.PI * 2;
        tunnel.add(ring);
      }

      const playerGeometry = new THREE.SphereGeometry(0.5, 32, 32);
      const playerMaterial = new THREE.MeshBasicMaterial({ color: 0xff00ff });
      const player = new THREE.Mesh(playerGeometry, playerMaterial);
      player.position.z = 1;
      scene.add(player);

      camera.position.z = 5;
      camera.position.y = 1;
      camera.lookAt(player.position);

      let angle = 0;

      document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowLeft") angle += 0.1;
        if (e.key === "ArrowRight") angle -= 0.1;
      });

      function animate() {
        requestAnimationFrame(animate);
        player.position.x = radius * Math.cos(angle);
        player.position.y = radius * Math.sin(angle);
        tunnel.children.forEach((ring) => {
          ring.position.z += speed;
          if (ring.position.z > camera.position.z) {
            ring.position.z = tunnel.children.reduce((min, r) => Math.min(min, r.position.z), Infinity) - 3;
            ring.rotation.z = Math.random() * Math.PI * 2;
          }
        });
        renderer.render(scene, camera);
      }
      animate();
    </script>
  </body>
</html>
